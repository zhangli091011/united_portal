# ä¸­æ˜¥æ™šæŠ¥åç³»ç»Ÿ - æ­£å¼éƒ¨ç½²æŒ‡å—

## ğŸ“‹ éƒ¨ç½²æ¦‚è§ˆ

æœ¬æŒ‡å—å°†å¸®åŠ©æ‚¨åœ¨ç”Ÿäº§ç¯å¢ƒä¸­å®Œæ•´éƒ¨ç½²ä¸­æ˜¥æ™šæŠ¥åç³»ç»Ÿï¼ŒåŒ…æ‹¬å‰ç«¯Reactåº”ç”¨ã€Node.jsåç«¯æœåŠ¡ã€æ•°æ®åº“é…ç½®ã€SSLè¯ä¹¦ã€ç›‘æ§ç­‰å®Œæ•´çš„ç”Ÿäº§ç¯å¢ƒé…ç½®ã€‚

## ğŸ¯ éƒ¨ç½²ç›®æ ‡

- **é«˜å¯ç”¨æ€§**: ç³»ç»Ÿç¨³å®šè¿è¡Œï¼Œæ”¯æŒ7x24å°æ—¶æœåŠ¡
- **å®‰å…¨æ€§**: HTTPSåŠ å¯†ã€æƒé™ç®¡ç†ã€æ•°æ®ä¿æŠ¤
- **æ€§èƒ½**: å“åº”é€Ÿåº¦å¿«ï¼Œæ”¯æŒé«˜å¹¶å‘è®¿é—®
- **å¯ç»´æŠ¤æ€§**: ä¾¿äºç›‘æ§ã€æ—¥å¿—æŸ¥çœ‹ã€é—®é¢˜æ’æŸ¥

## ğŸ“¦ ç³»ç»Ÿæ¶æ„

```
                    [ç”¨æˆ·]
                      â†“
                  [Nginxåå‘ä»£ç†]
                   â†™        â†˜
            [å‰ç«¯åº”ç”¨]    [åç«¯API]
                             â†“
                        [MySQLæ•°æ®åº“]
                             â†“
                        [é£ä¹¦APIé›†æˆ]
```

## ğŸ›  éƒ¨ç½²ç¯å¢ƒè¦æ±‚

### æœ€ä½é…ç½®è¦æ±‚
- **CPU**: 2æ ¸å¿ƒ
- **å†…å­˜**: 4GB RAM  
- **å­˜å‚¨**: 20GB å¯ç”¨ç©ºé—´
- **ç½‘ç»œ**: ç¨³å®šçš„äº’è”ç½‘è¿æ¥
- **æ“ä½œç³»ç»Ÿ**: Ubuntu 20.04+ / CentOS 8+ / Windows Server 2019+

### æ¨èç”Ÿäº§é…ç½®
- **CPU**: 4æ ¸å¿ƒä»¥ä¸Š
- **å†…å­˜**: 8GB RAMä»¥ä¸Š
- **å­˜å‚¨**: 50GB SSD
- **å¸¦å®½**: 10Mbpsä¸Šè¡Œ/ä¸‹è¡Œ
- **å¤‡ä»½**: å®šæœŸæ•°æ®å¤‡ä»½ç­–ç•¥

### è½¯ä»¶ç¯å¢ƒè¦æ±‚
- **Docker**: 20.10+
- **Docker Compose**: 2.0+
- **åŸŸå**: å·²è§£æåˆ°æœåŠ¡å™¨IPçš„åŸŸå
- **SSLè¯ä¹¦**: Let's Encryptæˆ–å•†ä¸šè¯ä¹¦

## ğŸš€ éƒ¨ç½²æ­¥éª¤

### ç¬¬ä¸€æ­¥ï¼šç¯å¢ƒå‡†å¤‡

#### 1.1 æœåŠ¡å™¨åˆå§‹åŒ–
```bash
# æ›´æ–°ç³»ç»ŸåŒ…
sudo apt update && sudo apt upgrade -y

# å®‰è£…åŸºç¡€å·¥å…·
sudo apt install -y curl wget git vim unzip

# å®‰è£…Docker
curl -fsSL https://get.docker.com -o get-docker.sh
sudo sh get-docker.sh

# å®‰è£…Docker Compose
sudo curl -L "https://github.com/docker/compose/releases/latest/download/docker-compose-$(uname -s)-$(uname -m)" -o /usr/local/bin/docker-compose
sudo chmod +x /usr/local/bin/docker-compose

# å¯åŠ¨DockeræœåŠ¡
sudo systemctl enable docker
sudo systemctl start docker
```

#### 1.2 é˜²ç«å¢™é…ç½®
```bash
# Ubuntu UFW
sudo ufw allow ssh
sudo ufw allow 80/tcp
sudo ufw allow 443/tcp
sudo ufw enable

# CentOS firewalld
sudo firewall-cmd --permanent --add-service=ssh
sudo firewall-cmd --permanent --add-service=http
sudo firewall-cmd --permanent --add-service=https
sudo firewall-cmd --reload
```

### ç¬¬äºŒæ­¥ï¼šä»£ç éƒ¨ç½²

#### 2.1 è·å–é¡¹ç›®ä»£ç 
```bash
# å…‹éš†é¡¹ç›®åˆ°æœåŠ¡å™¨
cd /opt
sudo git clone https://github.com/your-repo/united-portal.git
sudo chown -R $USER:$USER united-portal
cd united-portal
```

#### 2.2 é…ç½®ç¯å¢ƒå˜é‡
```bash
# å¤åˆ¶ç”Ÿäº§ç¯å¢ƒé…ç½®æ¨¡æ¿
cp deploy/env.production.example server/.env.production

# ç¼–è¾‘é…ç½®æ–‡ä»¶
nano server/.env.production
```

**å¿…éœ€çš„ç¯å¢ƒå˜é‡é…ç½®**ï¼š
```env
# åŸºç¡€æœåŠ¡é…ç½®
NODE_ENV=production
PORT=3001
HOST=0.0.0.0
FRONTEND_URL=https://your-domain.com

# JWTå®‰å…¨å¯†é’¥ï¼ˆå¿…é¡»ä¿®æ”¹ï¼‰
JWT_SECRET=your-super-secret-jwt-key-at-least-32-characters

# ç®¡ç†å‘˜è´¦å·ï¼ˆé¦–æ¬¡éƒ¨ç½²åè¯·ä¿®æ”¹ï¼‰
ADMIN_USERNAME=admin
ADMIN_PASSWORD=your-strong-admin-password

# MySQLæ•°æ®åº“é…ç½®
DB_HOST=103.216.175.227
DB_USER=users  
DB_PASSWORD=dcLt2XSHNHaXepC7
DB_NAME=users
DB_PORT=3306

# é£ä¹¦APIé…ç½®
FEISHU_APP_ID=your-feishu-app-id
FEISHU_APP_SECRET=your-feishu-app-secret
FEISHU_BITABLE_APP_TOKEN=your-bitable-app-token
FEISHU_TABLE_ID=your-table-id

# é‚®ä»¶æœåŠ¡é…ç½®ï¼ˆQQé‚®ç®±ç¤ºä¾‹ï¼‰
SMTP_HOST=smtp.qq.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@qq.com
SMTP_PASS=your-qq-authorization-code

# Redisç¼“å­˜é…ç½®ï¼ˆå¯é€‰ï¼‰
REDIS_PASSWORD=your-redis-password

# æ–‡ä»¶ä¸Šä¼ é™åˆ¶
UPLOAD_MAX_SIZE=10485760
UPLOAD_ALLOWED_TYPES=image/jpeg,image/png,image/gif,image/webp

# æ—¥å¿—é…ç½®
LOG_LEVEL=info
LOG_FILE=logs/app.log
```

### ç¬¬ä¸‰æ­¥ï¼šSSLè¯ä¹¦é…ç½®

#### 3.1 ä½¿ç”¨Let's Encryptå…è´¹è¯ä¹¦ï¼ˆæ¨èï¼‰
```bash
# å®‰è£…Certbot
sudo apt install certbot

# ç”³è¯·è¯ä¹¦
sudo certbot certonly --webroot \
  --webroot-path=/var/www/html \
  --email your-email@domain.com \
  --agree-tos \
  --no-eff-email \
  -d your-domain.com \
  -d www.your-domain.com

# åˆ›å»ºSSLç›®å½•å¹¶å¤åˆ¶è¯ä¹¦
sudo mkdir -p /opt/united-portal/deploy/ssl
sudo cp /etc/letsencrypt/live/your-domain.com/fullchain.pem /opt/united-portal/deploy/ssl/
sudo cp /etc/letsencrypt/live/your-domain.com/privkey.pem /opt/united-portal/deploy/ssl/
sudo chown -R $USER:$USER /opt/united-portal/deploy/ssl
```

#### 3.2 è®¾ç½®è¯ä¹¦è‡ªåŠ¨ç»­æœŸ
```bash
# æ·»åŠ ç»­æœŸä»»åŠ¡åˆ°crontab
echo "0 12 * * * /usr/bin/certbot renew --quiet" | sudo tee -a /etc/crontab
```

### ç¬¬å››æ­¥ï¼šNginxé…ç½®

#### 4.1 æ›´æ–°Nginxé…ç½®æ–‡ä»¶
```bash
# ç¼–è¾‘Nginxé…ç½®ï¼Œæ›¿æ¢åŸŸå
sed -i 's/your-domain.com/å®é™…åŸŸå/g' deploy/nginx.conf
```

### ç¬¬äº”æ­¥ï¼šæ•°æ®åº“åˆå§‹åŒ–

#### 5.1 MySQLæ•°æ®åº“å‡†å¤‡
ç³»ç»Ÿä½¿ç”¨å¤–éƒ¨MySQLæ•°æ®åº“ï¼Œç¡®ä¿æ•°æ®åº“è¿æ¥ä¿¡æ¯æ­£ç¡®é…ç½®åœ¨ç¯å¢ƒå˜é‡ä¸­ã€‚

æ•°æ®åº“è¡¨ç»“æ„ä¼šåœ¨åº”ç”¨å¯åŠ¨æ—¶è‡ªåŠ¨åˆ›å»ºï¼ŒåŒ…æ‹¬ï¼š
- `users` - ç”¨æˆ·ç®¡ç†è¡¨
- `permissions` - æƒé™ç®¡ç†è¡¨  
- `user_sessions` - ç”¨æˆ·ä¼šè¯è¡¨

### ç¬¬å…­æ­¥ï¼šæ‰§è¡Œéƒ¨ç½²

#### 6.1 Linux/macOS ç³»ç»Ÿéƒ¨ç½²
```bash
# èµ‹äºˆæ‰§è¡Œæƒé™
chmod +x deploy/deploy.sh

# æ‰§è¡Œéƒ¨ç½²è„šæœ¬
./deploy/deploy.sh production
```

#### 6.2 Windows ç³»ç»Ÿéƒ¨ç½²
```powershell
# è®¾ç½®æ‰§è¡Œç­–ç•¥
Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser

# æ‰§è¡Œéƒ¨ç½²è„šæœ¬
.\deploy\deploy.ps1 production
```

#### 6.3 æ‰‹åŠ¨éƒ¨ç½²ï¼ˆå¯é€‰ï¼‰
```bash
# æ„å»ºåº”ç”¨
docker-compose -f deploy/docker-compose.production.yml build

# å¯åŠ¨æœåŠ¡
docker-compose -f deploy/docker-compose.production.yml up -d

# æ£€æŸ¥æœåŠ¡çŠ¶æ€
docker-compose -f deploy/docker-compose.production.yml ps
```

### ç¬¬ä¸ƒæ­¥ï¼šéƒ¨ç½²éªŒè¯

#### 7.1 æœåŠ¡å¥åº·æ£€æŸ¥
```bash
# æ£€æŸ¥æ‰€æœ‰å®¹å™¨çŠ¶æ€
docker-compose ps

# æ£€æŸ¥APIå¥åº·çŠ¶æ€
curl -f https://your-domain.com/api/health

# åº”è¯¥è¿”å›: {"status":"ok","timestamp":"..."}
```

#### 7.2 åŠŸèƒ½éªŒè¯æ¸…å•
- [ ] å‰ç«¯é¡µé¢æ­£å¸¸è®¿é—® (https://your-domain.com)
- [ ] APIå¥åº·æ£€æŸ¥è¿”å›200 (https://your-domain.com/api/health)
- [ ] ç®¡ç†å‘˜ç™»å½•åŠŸèƒ½æ­£å¸¸
- [ ] æŠ¥åæäº¤åŠŸèƒ½æ­£å¸¸
- [ ] é‚®ä»¶é€šçŸ¥å‘é€æ­£å¸¸
- [ ] é£ä¹¦æ•°æ®åŒæ­¥æ­£å¸¸
- [ ] SSLè¯ä¹¦æœ‰æ•ˆ

#### 7.3 æµ‹è¯•ç®¡ç†å‘˜ç™»å½•
1. è®¿é—®: `https://your-domain.com/admin/login`
2. é€‰æ‹©"ç”¨æˆ·åç™»å½•"
3. ç”¨æˆ·å: `admin` (æˆ–æ‚¨è®¾ç½®çš„ç”¨æˆ·å)
4. å¯†ç : æ‚¨åœ¨ç¯å¢ƒå˜é‡ä¸­è®¾ç½®çš„å¯†ç 

## ğŸ”§ æœåŠ¡ç®¡ç†

### å¸¸ç”¨Docker Composeå‘½ä»¤
```bash
# æŸ¥çœ‹æœåŠ¡çŠ¶æ€
docker-compose ps

# æŸ¥çœ‹å®æ—¶æ—¥å¿—
docker-compose logs -f

# æŸ¥çœ‹ç‰¹å®šæœåŠ¡æ—¥å¿—
docker-compose logs -f app

# é‡å¯æœåŠ¡
docker-compose restart

# åœæ­¢æœåŠ¡
docker-compose down

# æ›´æ–°å¹¶é‡å¯æœåŠ¡
docker-compose pull && docker-compose up -d
```

### ç³»ç»Ÿç›‘æ§
```bash
# æŸ¥çœ‹ç³»ç»Ÿèµ„æºä½¿ç”¨
docker stats

# æŸ¥çœ‹ç£ç›˜ä½¿ç”¨
df -h

# æŸ¥çœ‹å†…å­˜ä½¿ç”¨
free -h

# æŸ¥çœ‹ç½‘ç»œè¿æ¥
netstat -tlnp
```

## ğŸ“Š æ—¥å¿—ç®¡ç†

### æ—¥å¿—æ–‡ä»¶ä½ç½®
- **åº”ç”¨æ—¥å¿—**: `./logs/app.log`
- **Nginxè®¿é—®æ—¥å¿—**: é€šè¿‡`docker-compose logs nginx`æŸ¥çœ‹
- **Nginxé”™è¯¯æ—¥å¿—**: é€šè¿‡`docker-compose logs nginx`æŸ¥çœ‹
- **ç³»ç»Ÿæ—¥å¿—**: `/var/log/`

### æ—¥å¿—æŸ¥çœ‹å‘½ä»¤
```bash
# æŸ¥çœ‹åº”ç”¨æ—¥å¿—
tail -f logs/app.log

# æŸ¥çœ‹æœ€è¿‘100è¡Œæ—¥å¿—
docker-compose logs --tail=100

# æŸ¥çœ‹ç‰¹å®šæ—¶é—´çš„æ—¥å¿—
docker-compose logs --since="2024-01-01T00:00:00Z"
```

### æ—¥å¿—è½®è½¬é…ç½®
```bash
# åˆ›å»ºlogrotateé…ç½®
sudo tee /etc/logrotate.d/united-portal << EOF
/opt/united-portal/logs/*.log {
    daily
    missingok
    rotate 30
    compress
    delaycompress
    notifempty
    create 644 root root
}
EOF
```

## ğŸ”„ å¤‡ä»½ç­–ç•¥

### è‡ªåŠ¨å¤‡ä»½è„šæœ¬
```bash
#!/bin/bash
# åˆ›å»ºå¤‡ä»½è„šæœ¬
cat > /opt/backup-united-portal.sh << 'EOF'
#!/bin/bash

BACKUP_DIR="/backup/united-portal"
DATE=$(date +%Y%m%d_%H%M%S)
BACKUP_PATH="$BACKUP_DIR/$DATE"

# åˆ›å»ºå¤‡ä»½ç›®å½•
mkdir -p "$BACKUP_PATH"

# å¤‡ä»½åº”ç”¨æ–‡ä»¶
cp -r /opt/united-portal/uploads "$BACKUP_PATH/" 2>/dev/null || true
cp -r /opt/united-portal/logs "$BACKUP_PATH/" 2>/dev/null || true
cp /opt/united-portal/server/.env.production "$BACKUP_PATH/" 2>/dev/null || true

# å¤‡ä»½æ•°æ®åº“ï¼ˆå¦‚æœéœ€è¦ï¼‰
# mysqldump -h 103.216.175.227 -u users -p users > "$BACKUP_PATH/database.sql"

# å‹ç¼©å¤‡ä»½
cd "$BACKUP_DIR"
tar -czf "united-portal-backup-$DATE.tar.gz" "$DATE"
rm -rf "$DATE"

# åˆ é™¤30å¤©å‰çš„å¤‡ä»½
find "$BACKUP_DIR" -name "*.tar.gz" -mtime +30 -delete

echo "å¤‡ä»½å®Œæˆ: united-portal-backup-$DATE.tar.gz"
EOF

# è®¾ç½®æ‰§è¡Œæƒé™
chmod +x /opt/backup-united-portal.sh

# æ·»åŠ åˆ°å®šæ—¶ä»»åŠ¡ï¼ˆæ¯æ—¥å‡Œæ™¨2ç‚¹æ‰§è¡Œï¼‰
echo "0 2 * * * /opt/backup-united-portal.sh" | sudo tee -a /etc/crontab
```

## ğŸ”„ æ›´æ–°éƒ¨ç½²

### å¸¸è§„æ›´æ–°æµç¨‹
```bash
# 1. å¤‡ä»½å½“å‰ç‰ˆæœ¬
./backup-united-portal.sh

# 2. æ‹‰å–æœ€æ–°ä»£ç 
git pull origin main

# 3. é‡æ–°éƒ¨ç½²
./deploy/deploy.sh production

# 4. éªŒè¯æ›´æ–°
curl -f https://your-domain.com/api/health
```

### å›æ»šåˆ°ä¹‹å‰ç‰ˆæœ¬
```bash
# æŸ¥çœ‹å¯ç”¨ç‰ˆæœ¬
git tag

# å›æ»šåˆ°ç‰¹å®šç‰ˆæœ¬
git checkout v1.0.0

# é‡æ–°éƒ¨ç½²
./deploy/deploy.sh production
```

## ğŸ›¡ï¸ å®‰å…¨åŠ å›º

### ç³»ç»Ÿå®‰å…¨
```bash
# ç¦ç”¨root SSHç™»å½•
sudo sed -i 's/#PermitRootLogin yes/PermitRootLogin no/' /etc/ssh/sshd_config
sudo systemctl restart ssh

# è®¾ç½®å¯†é’¥ç™»å½•
# ï¼ˆæ¨èç”ŸæˆSSHå¯†é’¥å¯¹å¹¶ç¦ç”¨å¯†ç ç™»å½•ï¼‰

# å®‰è£…è‡ªåŠ¨å®‰å…¨æ›´æ–°
sudo apt install unattended-upgrades
sudo dpkg-reconfigure -plow unattended-upgrades
```

### åº”ç”¨å®‰å…¨
1. **å®šæœŸæ›´æ–°å¯†ç **: ç™»å½•åç«‹å³ä¿®æ”¹é»˜è®¤ç®¡ç†å‘˜å¯†ç 
2. **JWTå¯†é’¥å®‰å…¨**: ä½¿ç”¨å¼ºéšæœºå¯†é’¥ï¼Œå®šæœŸè½®æ¢
3. **æƒé™æœ€å°åŒ–**: åªåˆ†é…å¿…è¦çš„ç”¨æˆ·æƒé™
4. **è®¿é—®æ—¥å¿—ç›‘æ§**: å®šæœŸæ£€æŸ¥è®¿é—®æ—¥å¿—å¼‚å¸¸

### SSLå®‰å…¨é…ç½®
Nginxé…ç½®å·²åŒ…å«æ¨èçš„SSLå®‰å…¨è®¾ç½®ï¼š
- TLS 1.2+åŠ å¯†
- å¼ºåŠ å¯†å¥—ä»¶
- HSTSå¤´éƒ¨
- å®‰å…¨å“åº”å¤´

## ğŸš¨ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜è¯Šæ–­

#### 1. æœåŠ¡æ— æ³•å¯åŠ¨
```bash
# æ£€æŸ¥DockeræœåŠ¡çŠ¶æ€
sudo systemctl status docker

# æ£€æŸ¥ç«¯å£å ç”¨
sudo netstat -tlnp | grep :3001
sudo netstat -tlnp | grep :80
sudo netstat -tlnp | grep :443

# æ£€æŸ¥é…ç½®æ–‡ä»¶è¯­æ³•
docker-compose config

# æŸ¥çœ‹è¯¦ç»†é”™è¯¯æ—¥å¿—
docker-compose logs
```

#### 2. æ•°æ®åº“è¿æ¥å¤±è´¥
```bash
# æµ‹è¯•æ•°æ®åº“è¿æ¥
mysql -h 103.216.175.227 -u users -p users

# æ£€æŸ¥ç½‘ç»œè¿æ¥
ping 103.216.175.227
telnet 103.216.175.227 3306

# æ£€æŸ¥ç¯å¢ƒå˜é‡
grep DB_ server/.env.production
```

#### 3. é£ä¹¦APIè¿æ¥é—®é¢˜
```bash
# æ£€æŸ¥é£ä¹¦é…ç½®
grep FEISHU_ server/.env.production

# æµ‹è¯•ç½‘ç»œè¿æ¥
curl -v https://open.feishu.cn/open-apis/auth/v3/app_access_token/internal
```

#### 4. é‚®ä»¶å‘é€å¤±è´¥
```bash
# æ£€æŸ¥SMTPé…ç½®
grep SMTP_ server/.env.production

# æµ‹è¯•SMTPè¿æ¥
telnet smtp.qq.com 587
```

#### 5. SSLè¯ä¹¦é—®é¢˜
```bash
# æ£€æŸ¥è¯ä¹¦æœ‰æ•ˆæœŸ
openssl x509 -in deploy/ssl/fullchain.pem -text -noout

# æµ‹è¯•SSLè¿æ¥
openssl s_client -connect your-domain.com:443

# æ£€æŸ¥è¯ä¹¦è‡ªåŠ¨ç»­æœŸ
sudo certbot certificates
```

### åº”æ€¥å¤„ç†æµç¨‹

#### æœåŠ¡å®Œå…¨ä¸å¯ç”¨
```bash
# 1. ç«‹å³å›æ»šåˆ°ä¸Šä¸€ä¸ªå·¥ä½œç‰ˆæœ¬
git log --oneline -10
git checkout <last-working-commit>
./deploy/deploy.sh production

# 2. æ¢å¤æ•°æ®å¤‡ä»½ï¼ˆå¦‚éœ€è¦ï¼‰
# tar -xzf /backup/united-portal/latest-backup.tar.gz

# 3. æ£€æŸ¥å¹¶ä¿®å¤é—®é¢˜
docker-compose logs
```

#### éƒ¨åˆ†åŠŸèƒ½å¼‚å¸¸
```bash
# 1. é‡å¯ç‰¹å®šæœåŠ¡
docker-compose restart app

# 2. æ£€æŸ¥æœåŠ¡çŠ¶æ€
docker-compose ps
curl -f https://your-domain.com/api/health

# 3. æŸ¥çœ‹é”™è¯¯æ—¥å¿—
docker-compose logs app | grep ERROR
```

## ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–

### æœåŠ¡å™¨æ€§èƒ½è°ƒä¼˜
```bash
# è°ƒæ•´æ–‡ä»¶æè¿°ç¬¦é™åˆ¶
echo "* soft nofile 65536" | sudo tee -a /etc/security/limits.conf
echo "* hard nofile 65536" | sudo tee -a /etc/security/limits.conf

# ä¼˜åŒ–å†…æ ¸å‚æ•°
echo "net.core.somaxconn = 65536" | sudo tee -a /etc/sysctl.conf
echo "net.ipv4.tcp_max_syn_backlog = 65536" | sudo tee -a /etc/sysctl.conf
sudo sysctl -p
```

### åº”ç”¨æ€§èƒ½ä¼˜åŒ–
1. **å¯ç”¨Redisç¼“å­˜**: å–æ¶ˆdocker-compose.ymlä¸­RedisæœåŠ¡çš„æ³¨é‡Š
2. **Nginxç¼“å­˜**: é…ç½®é™æ€èµ„æºç¼“å­˜ç­–ç•¥
3. **Gzipå‹ç¼©**: Nginxé…ç½®å·²å¯ç”¨Gzipå‹ç¼©
4. **CDNåŠ é€Ÿ**: å¯é€‰æ‹©å°†é™æ€èµ„æºæ‰˜ç®¡åˆ°CDN

### ç›‘æ§æŒ‡æ ‡
```bash
# åˆ›å»ºç›‘æ§è„šæœ¬
cat > monitor.sh << 'EOF'
#!/bin/bash
echo "=== ç³»ç»Ÿç›‘æ§æŠ¥å‘Š $(date) ==="
echo "CPUä½¿ç”¨ç‡:"
top -bn1 | grep "Cpu(s)" | awk '{print $2}' | cut -d'%' -f1

echo "å†…å­˜ä½¿ç”¨ç‡:"
free | grep Mem | awk '{printf("%.2f%%\n", $3/$2 * 100.0)}'

echo "ç£ç›˜ä½¿ç”¨ç‡:"
df -h / | awk 'NR==2{printf "%s\n", $5}'

echo "Dockerå®¹å™¨çŠ¶æ€:"
docker-compose ps

echo "APIå¥åº·æ£€æŸ¥:"
curl -s https://your-domain.com/api/health || echo "APIä¸å¯ç”¨"
EOF

chmod +x monitor.sh
```

## ğŸ“ æŠ€æœ¯æ”¯æŒ

### è”ç³»æ–¹å¼
- **GitHub Issues**: é¡¹ç›®é—®é¢˜å’ŒbugæŠ¥å‘Š
- **æŠ€æœ¯æ”¯æŒé‚®ç®±**: your-support@domain.com
- **ç´§æ€¥è”ç³»**: +86-xxx-xxxx-xxxx

### æœåŠ¡æ—¶é—´
- **æ ‡å‡†æ”¯æŒ**: å·¥ä½œæ—¥ 9:00-18:00
- **ç´§æ€¥æ”¯æŒ**: 7x24å°æ—¶ï¼ˆç”Ÿäº§ç¯å¢ƒæ•…éšœï¼‰

### æ”¯æŒçº§åˆ«
1. **Level 1**: åŸºç¡€å’¨è¯¢å’Œä½¿ç”¨é—®é¢˜
2. **Level 2**: é…ç½®å’Œéƒ¨ç½²é—®é¢˜
3. **Level 3**: ç³»ç»Ÿæ•…éšœå’Œç´§æ€¥å¤„ç†

## âœ… éƒ¨ç½²æ£€æŸ¥æ¸…å•

### éƒ¨ç½²å‰æ£€æŸ¥
- [ ] æœåŠ¡å™¨èµ„æºæ»¡è¶³è¦æ±‚
- [ ] åŸŸåDNSè§£ææ­£ç¡®
- [ ] SSLè¯ä¹¦å‡†å¤‡å®Œæ¯•
- [ ] æ•°æ®åº“è¿æ¥ä¿¡æ¯ç¡®è®¤
- [ ] é£ä¹¦APIé…ç½®å‡†å¤‡
- [ ] é‚®ä»¶æœåŠ¡é…ç½®å‡†å¤‡
- [ ] ç¯å¢ƒå˜é‡æ–‡ä»¶é…ç½®å®Œæˆ

### éƒ¨ç½²ä¸­æ£€æŸ¥
- [ ] ä»£ç æˆåŠŸå…‹éš†åˆ°æœåŠ¡å™¨
- [ ] Dockerå’ŒDocker Composeå®‰è£…æ­£ç¡®
- [ ] ç¯å¢ƒå˜é‡é…ç½®æ— è¯¯
- [ ] SSLè¯ä¹¦è·¯å¾„æ­£ç¡®
- [ ] é˜²ç«å¢™è§„åˆ™è®¾ç½®
- [ ] æœåŠ¡æˆåŠŸå¯åŠ¨

### éƒ¨ç½²åéªŒè¯
- [ ] å‰ç«¯é¡µé¢æ­£å¸¸è®¿é—®
- [ ] APIå¥åº·æ£€æŸ¥é€šè¿‡
- [ ] ç®¡ç†å‘˜ç™»å½•åŠŸèƒ½æ­£å¸¸
- [ ] æŠ¥ååŠŸèƒ½æµ‹è¯•é€šè¿‡
- [ ] é‚®ä»¶é€šçŸ¥å‘é€æ­£å¸¸
- [ ] æ•°æ®åº“è¿æ¥æ­£å¸¸
- [ ] æ—¥å¿—è®°å½•æ­£å¸¸
- [ ] å¤‡ä»½è„šæœ¬è®¾ç½®å®Œæˆ
- [ ] ç›‘æ§å‘Šè­¦é…ç½®

### å®‰å…¨æ£€æŸ¥
- [ ] é»˜è®¤å¯†ç å·²ä¿®æ”¹
- [ ] JWTå¯†é’¥å·²è®¾ç½®
- [ ] SSLè¯ä¹¦æœ‰æ•ˆ
- [ ] é˜²ç«å¢™é…ç½®æ­£ç¡®
- [ ] ç³»ç»Ÿå®‰å…¨æ›´æ–°å¯ç”¨
- [ ] è®¿é—®æ—¥å¿—ç›‘æ§è®¾ç½®

---

## ğŸ‰ éƒ¨ç½²å®Œæˆ

æ­å–œï¼æ‚¨å·²ç»æˆåŠŸå®Œæˆäº†ä¸­æ˜¥æ™šæŠ¥åç³»ç»Ÿçš„ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²ã€‚

ç³»ç»Ÿç°åœ¨åŒ…å«ä»¥ä¸‹åŠŸèƒ½ï¼š
- âœ… ç”¨æˆ·æŠ¥åå’ŒçŠ¶æ€æŸ¥è¯¢
- âœ… ç®¡ç†å‘˜åå°ç®¡ç†
- âœ… æ–°é—»ä¸­å¿ƒå’ŒRSSé›†æˆ
- âœ… é‚®ä»¶é€šçŸ¥ç³»ç»Ÿ
- âœ… é£ä¹¦æ•°æ®åŒæ­¥
- âœ… å®‰å…¨è®¤è¯å’Œæƒé™ç®¡ç†
- âœ… ç›‘æ§å’Œæ—¥å¿—ç³»ç»Ÿ
- âœ… è‡ªåŠ¨å¤‡ä»½æœºåˆ¶

### ä¸‹ä¸€æ­¥å»ºè®®
1. **ä¿®æ”¹é»˜è®¤å¯†ç **: ç«‹å³ç™»å½•åå°ä¿®æ”¹ç®¡ç†å‘˜å¯†ç 
2. **åˆ›å»ºç”¨æˆ·æƒé™**: æ ¹æ®éœ€è¦åˆ›å»ºä¸åŒæƒé™çš„ç®¡ç†å‘˜
3. **æµ‹è¯•å®Œæ•´æµç¨‹**: å®Œæ•´æµ‹è¯•æŠ¥ååˆ°å®¡æ ¸çš„å…¨æµç¨‹
4. **è®¾ç½®ç›‘æ§å‘Šè­¦**: é…ç½®ç³»ç»Ÿç›‘æ§å’Œå‘Šè­¦é€šçŸ¥
5. **å®šæœŸå¤‡ä»½éªŒè¯**: å®šæœŸéªŒè¯å¤‡ä»½æ–‡ä»¶çš„å®Œæ•´æ€§

ç¥æ‚¨ä½¿ç”¨æ„‰å¿«ï¼ğŸš€
